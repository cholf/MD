####
http://wiki.corp.qunar.com/confluence/pages/viewpage.action?pageId=186469382

----- 粒度
表锁

页锁

行锁

----- 模式

–LOCK_S（读锁，共享锁，2）
–LOCK_X（写锁，排它锁，3）

最容易理解的锁模式，读加共享锁，写加排它锁



----- 属性

–LOCK_REC_NOT_GAP（锁记录，1024）
–LOCK_GAP（锁记录前的GAP，512）
–LOCK_ORDINARY（同时锁记录+记录前的GAP，0。传说中的Next Key锁）
–LOCK_INSERT_INTENTION（插入意向锁，2048）

------------------结

产生死锁的必要条件
–多个并发事务（2个或者以上）
–每个事务都持有了锁（或者是已经在等待锁）
–每个事务都需要再继续持有锁（为了完成事务逻辑，还必须更新更多的行）
–事务之间产生加锁的循环等待，形成死锁

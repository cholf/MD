## db--并发问题

- 1.丢失或覆盖更新。(幻像读)
  - 是指当事务不是独立执行时发生的一种现象，例如第一个事务对一个表中的数据进行了修改，这种修改涉及到表中的全部数据行。同时，第二个事务也修改这个表中的数据，这种修改是向表中插入一行新数据。那么，以后就会发生操作第一个事务的用户发现表中还有没有修改的数据行，就好象发生了幻觉一样。
  - 
- 2.未确认的相关性（脏读）。
  - 脏读就是指当一个事务正在访问数据，并且对数据进行了修改，而这种修改还没有提交到数据库中，这时，另外一个事务也访问这个数据，然后使用了这个数据
  -
- 3.不一致的分析（非重复读）。
  - 是指在一个事务内，多次读同一数据。在这个事务还没有结束时，另外一个事务也访问该同一数据。那么，在第一个事务中的两次读数据之间，由于第二个事务的修改，那么第一个事务两次读到的的数据可能是不一样的。这样在一个事务内两次读到的数据是不一样的，因此称为是不可重复读。
  -
### 隔离级别
-     DEFAULT 使用数据库设置的隔离级别 ( 默认 ) ，由 DBA 默认的设置来决定隔离级别 .
-     READ_UNCOMMITTED 会出现脏读、不可重复读、幻读 ( 隔离级别最低，并发性能高 )
-     READ_COMMITTED  会出现不可重复读、幻读问题（锁定正在读取的行）
-     REPEATABLE_READ 会出幻读（锁定所读取的所有行）
-     SERIALIZABLE 保证所有的情况不会发生（锁表）
![](db_lock.jpg)
